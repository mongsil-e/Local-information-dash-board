<!DOCTYPE html>
<html lang="ko">
<head>

<!-- Inline styles removed -->
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header class="header">
        <div class="header__logo">인폼 현황판</div>
        <div class="header__user-area">
            <div class="header__user-name" id="userInfo">PKG 설비 2파트</div>
            <button id="logoutButton" class="btn btn--secondary" >로그아웃</button>
            <button class="header__theme-toggle" aria-label="테마 전환 (라이트/다크)">🌓</button>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <div class="tabs__tab tabs__tab--active">업무 대시보드</div>
            <div class="tabs__tab">PGM Update history</div>
            <!--<div class="tabs__tab">??</div>
            <div class="tabs__tab">??</div>-->
        </div>

        <div class="search">
            <span class="search__icon">🔍</span>
            <input type="text" id="searchInput" class="search__input" placeholder="업무 검색 (제목, 설명, 담당자, 태그)">
        </div>

        <div class="ai-controls">
            <select id="aiModelSelector" class="ai-model-selector" aria-label="AI 모델 선택">
                <option value="">AI 모델 로딩 중... (사용불가)</option>
            </select>
            <button id="toggleAI" class="ai-btn" aria-label="AI 도우미 열기/닫기">
                <span>🤖</span> AI Chat bot (사용불가)
            </button>
                <!--<button id="aiOrganize" class="ai-btn ai-btn--secondary" aria-label="AI로 업무 정리 실행">
                    <span>🧠</span> AI로 업무 정리 활성화 할꺼면 activateTab으로 이동-->
            </button>
        </div> 

                <!-- 탭 콘텐츠 컨테이너 -->
                <div class="tab-contents">
                    <!-- 업무 대시보드 탭 콘텐츠 (기본으로 표시) -->
                    <div class="tab-content tab-content--active" id="dashboard-content">
                    <!-- 이 영역은 비워둡니다. 기존 board가 여기 표시될 것입니다 -->
                    </div>
                    
        <!-- PGM Update history 탭 콘텐츠 (버튼 추가) -->
        <div class="tab-content" id="pgm-history-content">
            <!-- 두 개의 큰 컬럼을 감싸는 컨테이너 -->
            <div class="main-columns-container">

                <!-- AVI 컬럼 -->
                <div class="main-column AVI-column">
                    <h2 class="main-column-title">AVI</h2>
                    <!-- AVI 하위 컬럼 컨테이너 -->
                    <div class="sub-columns-container">
                        <!-- Red 서브 컬럼 -->
                        <div class="sub-column red-sub-column">
                            <!-- 제목과 추가 버튼을 묶는 헤더 div -->
                            <div class="sub-column-header">
                                <h3 class="sub-column-title">Main PGM</h3>
                                <div class="sub-column-actions">
                                    <button class="action-btn action-btn--menu" data-action="openColumnMenu" data-column-target="AVI-red" aria-label="Main PGM 컬럼 메뉴 열기">⋮</button>
                                    <button class="action-btn action-btn--add sub-column-add-btn" data-column-target="AVI-red" aria-label="Red 컬럼에 항목 추가">+</button>
                                </div>
                            </div>
                            <div class="sub-column-content" id="AVI-red-content">
                                <!-- AVI-Red 컬럼 내용이 동적으로 채워질 영역 -->
                            </div>
                        </div>
                        <!-- Yellow 서브 컬럼 -->
                        <div class="sub-column yellow-sub-column">
                            <!-- 제목과 추가 버튼을 묶는 헤더 div -->
                            <div class="sub-column-header">
                                <h3 class="sub-column-title">Vision PGM</h3>
                                <div class="sub-column-actions">
                                    <button class="action-btn action-btn--menu" data-action="openColumnMenu" data-column-target="AVI-yellow" aria-label="Vision PGM 컬럼 메뉴 열기">⋮</button>
                                    <button class="action-btn action-btn--add sub-column-add-btn" data-column-target="AVI-yellow" aria-label="Yellow 컬럼에 항목 추가">+</button>
                                </div>
                            </div>
                            <div class="sub-column-content" id="AVI-yellow-content">
                                <!-- AVI-Yellow 컬럼 내용이 동적으로 채워질 영역 -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- // AVI 컬럼 -->

                <!-- ATTACH 컬럼 -->
                <div class="main-column ATTACH-column">
                    <h2 class="main-column-title">ATTACH</h2>
                    <!-- ATTACH 하위 컬럼 컨테이너 -->
                    <div class="sub-columns-container">
                        <!-- Black 서브 컬럼 -->
                        <div class="sub-column black-sub-column">
                            <!-- 제목과 추가 버튼을 묶는 헤더 div -->
                            <div class="sub-column-header">
                                <h3 class="sub-column-title">Main PGM</h3>
                                <div class="sub-column-actions">
                                    <button class="action-btn action-btn--menu" data-action="openColumnMenu" data-column-target="ATTACH-black" aria-label="Main PGM 컬럼 메뉴 열기">⋮</button>
                                    <button class="action-btn action-btn--add sub-column-add-btn" data-column-target="ATTACH-black" aria-label="Black 컬럼에 항목 추가">+</button>
                                </div>
                            </div>
                            <div class="sub-column-content" id="ATTACH-black-content">
                                <!-- ATTACH-Black 컬럼 내용이 동적으로 채워질 영역 -->
                            </div>
                        </div>
                        <!-- Pink 서브 컬럼 -->
                        <div class="sub-column pink-sub-column">
                            <!-- 제목과 추가 버튼을 묶는 헤더 div -->
                            <div class="sub-column-header">
                                <h3 class="sub-column-title">Vision PGM</h3>
                                <div class="sub-column-actions">
                                    <button class="action-btn action-btn--menu" data-action="openColumnMenu" data-column-target="ATTACH-pink" aria-label="Vision PGM 컬럼 메뉴 열기">⋮</button>
                                    <button class="action-btn action-btn--add sub-column-add-btn" data-column-target="ATTACH-pink" aria-label="pink 컬럼에 항목 추가">+</button>
                                </div>
                            </div>
                            <div class="sub-column-content" id="ATTACH-pink-content">
                                <!-- ATTACH-Pink 컬럼 내용이 동적으로 채워질 영역 -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- // ATTACH 컬럼 -->

            </div>
        </div>
        <!-- // PGM Update history 탭 콘텐츠 -->
            
            <!-- 통계 탭 콘텐츠 -->
            <div class="tab-content" id="statistics-content">
            <h2>통계 콘텐츠 영역</h2>
            <p>통계 기능이 아직 구현되지 않았습니다.</p>
            </div>
            
            <!-- 설정 탭 콘텐츠 -->
            <div class="tab-content" id="settings-content">
            <h2>설정 콘텐츠 영역</h2>
            <p>설정 기능이 아직 구현되지 않았습니다.</p>
            </div>
        </div>

        <div class="board" id="board">
            <!-- Columns will be populated dynamically -->
        </div>

        <!-- Add/Edit Task Modal -->
        <div id="taskModal" class="modal" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal__content">
                <div class="modal__header">
                    <div id="modalTitle" class="modal__title">새 업무 추가</div>
                    <button class="modal__close" aria-label="모달 닫기" >×</button>
                </div>
                <form id="taskForm">
                    <input type="hidden" id="taskId" name="taskId">
                    <input type="hidden" id="columnId" name="columnId">
                    <div class="form-group">
                        <label for="taskTitle" class="form-group__label">업무명 <span aria-hidden="true">*</span></label>
                        <input type="text" id="taskTitle" name="taskTitle" class="form-group__input" required aria-required="true">
                    </div>
                    <div class="form-group">
                        <label for="taskDescription" class="form-group__label">설명</label>
                        <textarea id="taskDescription" name="taskDescription" class="form-group__textarea"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate" class="form-group__label">마감일</label>
                        <input type="date" id="taskDueDate" name="taskDueDate" class="form-group__input">
                    </div>
                    <div class="form-group">
                        <label for="taskAssignees" class="form-group__label">담당자</label>
                        <input type="text" id="taskAssignees" name="taskAssignees" class="form-group__input" placeholder="콤마(,)로 구분">
                    </div>
                    <div class="form-group">
                        <label for="taskPriority" class="form-group__label">중요도</label>
                        <select id="taskPriority" name="taskPriority" class="form-group__select">
                            <option value="low">낮음</option>
                            <option value="medium" selected>보통</option>
                            <option value="high">높음</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tagInput" class="form-group__label">태그</label>
                        <div id="tagsContainer" class="form-group__tags" aria-live="polite"></div>
                        <input type="text" id="tagInput" class="form-group__tag-input" placeholder="태그 입력 후 엔터">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" >취소</button>
                        <button type="submit" class="btn btn--primary">저장</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Detail Modal -->
        <div id="taskDetailModal" class="modal" role="dialog" aria-labelledby="taskDetailTitle" aria-hidden="true">
            <div class="modal__content">
                <div class="modal__header">
                    <div id="taskDetailTitle" class="modal__title">업무 상세</div>
                    <button class="modal__close" aria-label="상세 정보 모달 닫기" >×</button>
                </div>
                <div id="taskDetailContent">
                    <!-- Content will be populated by JS -->
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn--secondary" >닫기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI 인터페이스 -->
    <div class="ai-interface" id="aiInterface" aria-hidden="true">
        <div class="ai-header">
            <div class="ai-title">AI 업무 도우미</div>
            <button class="ai-close-btn" id="closeAI" aria-label="AI 인터페이스 닫기">✕</button>
        </div>
        <div class="ai-input-container">
            <input type="text" id="aiPrompt" placeholder="업무 지시를 입력하세요 (예: '마감일 임박 작업 정렬')">
            <button id="executeAI" aria-label="AI 명령어 실행">실행</button>
        </div>
        <div class="ai-suggestions">
            <div class="ai-suggestion" data-prompt="오늘 마감인 작업은?">오늘 마감인인 작업</div>
            <div class="ai-suggestion" data-prompt="마감되지 않은 작업들만 우선순위로 정렬해줘">우선 순위로 정렬 해줘</div>
            <div class="ai-suggestion" data-prompt="완료된 작업 숨기기 또는 아카이브">완료 작업 정리</div>
            <div class="ai-suggestion" data-prompt="'매일할일' 에 '책상 정리' 추가해줘">새 업무 추가 예시</div>
            <div class="ai-suggestion" data-prompt="마감일 지난 업무 정리해줘">마감일 지난 업무</div>
            <!--<div class="ai-suggestion" data-prompt="오늘 마감인 업무에 '긴급' 태그 추가">오늘 마감 태그 추가</div>-->
        </div>
        <div class="ai-response" id="aiResponse" aria-live="assertive"></div>
    </div>

<!-- Inline script removed -->
  <script src="/js/app.js" defer></script>
</body>
</html>
